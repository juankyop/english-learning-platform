---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { grammarTopics } from '../../data/grammar-topics';
import type { GrammarTopic } from '../../types/exercises';

export function getStaticPaths() {
  return grammarTopics.map(topic => ({
    params: { topicId: topic.id },
    props: { topic }
  }));
}

interface Props {
  topic: GrammarTopic;
}

const { topic } = Astro.props;
const title = `Ejercicios - ${topic.title}`;
---

<BaseLayout title={title}>
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="mb-8">
      <div class="flex items-center justify-between">
        <h1 class="text-3xl font-bold">{topic.title}</h1>
        <span class={`inline-block px-3 py-1 rounded-full text-sm font-medium 
          ${topic.level === 'A2' ? 'bg-green-100 text-green-800' : 
          topic.level === 'B1' ? 'bg-blue-100 text-blue-800' : 
          'bg-purple-100 text-purple-800'}`}
        >
          {topic.level}
        </span>
      </div>
      <p class="mt-2 text-gray-600">{topic.description}</p>
    </div>

    <!-- Sección de teoría -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">Repaso de teoría</h2>
      <div class="bg-white rounded-lg shadow-sm p-6">
        <!-- Aquí iría el contenido de teoría específico del tema -->
        <p>Contenido de teoría para {topic.title}...</p>
      </div>
    </section>

    <!-- Sección de ejercicios -->
    <section>
      <h2 class="text-2xl font-semibold mb-4">Ejercicios de práctica</h2>
      <div class="space-y-6">
        <!-- Aquí irían los diferentes tipos de ejercicios -->
        <div class="bg-white rounded-lg shadow-sm p-6">
          <h3 class="text-lg font-medium mb-4">Ejercicio 1: Selección múltiple</h3>
          <p class="text-gray-600 mb-4">Elige la opción correcta para cada oración.</p>
          <button
            class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors"
          >
            Comenzar ejercicio
          </button>
        </div>

        <div class="bg-white rounded-lg shadow-sm p-6">
          <h3 class="text-lg font-medium mb-4">Ejercicio 2: Completar oraciones</h3>
          <p class="text-gray-600 mb-4">Completa las oraciones con la forma correcta.</p>
          <button
            class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors"
          >
            Comenzar ejercicio
          </button>
        </div>

        <div class="bg-white rounded-lg shadow-sm p-6">
          <h3 class="text-lg font-medium mb-4">Ejercicio 3: Corrección de errores</h3>
          <p class="text-gray-600 mb-4">Encuentra y corrige los errores en las oraciones.</p>
          <button
            class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors"
          >
            Comenzar ejercicio
          </button>
        </div>
      </div>
    </section>
  </div>
</BaseLayout> 